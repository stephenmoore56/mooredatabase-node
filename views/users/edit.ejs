<% layout('../layout_form.ejs') -%>
<% script('/javascripts/users_edit.js') %>
<article class="row">
	<%- partial('../partials/flashMessage.ejs',{ "flash": flash }) %>
	<form id="editUserForm" class="form-horizontal" role="form" action="/users/update" method="post">
		<fieldset>
			<legend>Edit User</legend>
			
			<div class="form-group">
				<label for="username" class="control-label required col-lg-2">Username:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="username" id="username" value="<%= user.username %>" size="50" maxLength="30" autofocus="autofocus" required="required">
				</div>
			</div>
			
			<div class="form-group">			
				<label for="password" class="control-label required col-lg-2">Password:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="password" id="password" value="" size="50" maxLength="30">
				</div>
			</div>
			
			<div class="form-group">
				<label for="firstname" class="control-label required col-lg-2">First Name:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="firstname" id="firstname" value="<%= user.firstname %>" size="50" maxLength="30" required="required">
				</div>
			</div>
			
			<div class="form-group">
				<label for="lastname" class="control-label required col-lg-2">Last Name:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="lastname" id="lastname" value="<%= user.lastname ? user.lastname : '' %>" size="50" maxLength="30" required="required">
				</div>
			</div>
			
			<div class="form-group">
				<label for="email" class="control-label required col-lg-2">Email:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="email" id="email" value="<%= user.email %>" size="50" maxLength="50" required="required">
				</div>
			</div>
			
			<div class="form-group">
				<label for="created" class="control-label required col-lg-2">Created:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="created" id="created" value="<%= user.created %>" size="50" readonly>
				</div>
			</div>
			
			<div class="form-group">
				<label for="updated" class="control-label required col-lg-2">Last Updated:</label>
				<div class="col-lg-4">
					<input type="text" class="form-control" name="updated" id="updated" value="<%= user.updated %>" size="50" readonly>
				</div>
			</div>																								
		</fieldset>
		<div class="form-group">
	    	<div class="col-lg-offset-2 col-lg-10">
				<input type="submit" name="submit" id="submit" value="Save" class="btn btn-primary">
				<input type="hidden" name="id" id="id" value="<%= user._id %>">
			</div>
		</div>
	</form>
	<nav>
		<p>
			<a class="content_a" href="/users/index">List Users</a> | 
			<a class="content_a" href="/content/menu">Menu</a>	
		</p>
	</nav>
</article>