<% layout('../layout_form.ejs') -%>
<% script('/javascripts/users_edit.js') %>
<article class="row-fluid">
	<%- partial('../partials/flashMessage.ejs',{ "flash": flash }) %>
	<form id="editUserForm" action="/users/update" method="post">
		<fieldset>
			<legend>Edit User</legend>
			<label for="username" class="required">Username:</label>
			<input type="text" name="username" id="username" value="<%= user.username %>" size="30" maxLength="30" autofocus="autofocus" required="required">			
			<label for="password" class="required">Password:</label>
			<input type="text" name="password" id="password" value="" size="30" maxLength="30">
			
			<label for="firstname" class="required">First Name:</label>
			<input type="text" name="firstname" id="firstname" value="<%= user.firstname %>" size="30" maxLength="30" required="required">
			
			<label for="lastname" class="required">Last Name:</label>
			<input type="text" name="lastname" id="lastname" value="<%= user.lastname ? user.lastname : '' %>" size="30" maxLength="30">
			
			<label for="email" class="required">Email:</label>
			<input type="text" name="email" id="email" value="<%= user.email %>" size="50" maxLength="50" required="required">
			
			<label for="created" class="required">Created:</label>
			<input type="text" name="created" id="created" value="<%=: user.created | dateFormatLong %>" size="30" readonly>
			
			<label for="updated" class="required">Last Updated:</label>
			<input type="text" name="updated" id="updated" value="<%=: user.updated | dateFormatLong %>" size="30" readonly>																								
		</fieldset>
		<input type="submit" name="submit" id="submit" value="Save" class="btn btn-primary">
		<input type="hidden" name="id" id="id" value="<%= user._id %>">
	</form>
	<nav>
		<p>
			<a class="content_a" href="/users/index">List Users</a> | 
			<a class="content_a" href="/content/menu">Menu</a>	
		</p>
	</nav>
</article>