<article class="row" data-ng-controller="OrdersCtrl" ng-cloak>
	<div class="alert alert-danger" role="alert" data-ng-show="error !== undefined">
		<p>
			A database error occurred:<br />
			Error code: {{ error.code }}<br />
			Error number: {{ error.errno }}<br />
			SQL State: {{ error.sqlState }}<br />
		</p>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Species By Order</h3>
		</div>
		<div class="panel-body">
			<figure id="piechart">
			    <div id="chart_div"></div>
			</figure>
		</div>
		<table id='orders'
			   class='table-striped table-condensed table-bordered table-responsive report_table'
			   title='Order Sightings' data-ng-show="orders.length">
			<thead>
				<tr>
			    	<th class="text-left"  data-ng-click="sortResults('order_name')">Order</th>
			    	<th class="text-left hidden-xs"  data-ng-click="sortResults('order_notes')">Notes</th>
			  		<th class="text-right" data-ng-click="sortResults('speciesCount')">Species</th>
			  		<th class="text-right" data-ng-click="sortResults('order_species_count_all')">Total</th>
				</tr>
			</thead>
			<tbody>		
				<tr data-ng-repeat="order in orders | orderBy:predicate:reverse">
					<td class="text-left">{{ order.order_name }}</td>
					<td class="text-left hidden-xs">{{ order.order_notes }}</td>
					<td class="text-right">{{ order.speciesCount }}</td>	
					<td class="text-right">{{ order.order_species_count_all }}</td>
				</tr>
			</tbody>
		</table>
	</div>
</article>