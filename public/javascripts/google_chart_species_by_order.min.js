(function(){var drawChartSpeciesByOrder;$(document).ready(function(){return $("#chart_div").length&&(Modernizr.svg?$.ajax({url:"/birding/ordersajax",cache:!1,dataType:"json",success:function(data){return mooredatabase.drawChartSpeciesByOrder(data),!0}}):$("#chart_div").html("<p>Your browser cannot display Google charts.</p>")),!0}),google.load("visualization","1.0",{packages:["corechart"]}),drawChartSpeciesByOrder=function(dataPoints){var chart,chartData,data,i,options,_i,_ref;for(chartData=[],i=_i=0,_ref=dataPoints.length;_ref>=0?_ref>_i:_i>_ref;i=_ref>=0?++_i:--_i)chartData.push([dataPoints[i].order_name,parseInt(dataPoints[i].speciesCount)]);return data=new google.visualization.DataTable,data.addColumn("string","Order"),data.addColumn("number","Species"),data.addRows(chartData),chart=new google.visualization.PieChart(document.getElementById("chart_div")),options={width:800,height:400,title:"Bird Species Sighted By Order"},chart.draw(data,options)},mooredatabase.drawChartSpeciesByOrder=drawChartSpeciesByOrder}).call(this);